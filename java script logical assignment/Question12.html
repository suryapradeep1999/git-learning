<!DOCTYPE html>
<html>
    <head>
        <title>Question12</title>
    </head>
    <body>
        <script>
            function longestToken(str) {
                var token = "";
                var i = 0, j = 0;
                while(i<str.length && j<str.length) {
                    if(str[j]=="a" && str[j+1]=="b") {
                        let temp = str.substring(i,j);
                        if(temp != "" && temp.length>token.length) {
                            token = temp;
                        }
                        i = j+1+1;
                        j = j+1+1;
                    }else if(str[j] == "a") {
                        let temp = str.substring(i,j);
                        if(temp != "" && temp.length>token.length) {
                            token = temp;
                        }
                        i = j+1;
                        j = j+1;
                    }else {
                        j = j+1;
                    }
                }
                return token;
            }
            document.write(longestToken("ababcdabefgababhiab"));
        </script>
    </body>
</html>